<head>
  <title>Ambient Light Display</title>
  <meta name="viewport" content="width=device-width, user-scalable=no">
  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600' rel='stylesheet' type='text/css'>
  <link href='nouislider.css' rel='stylesheet' type='text/css'>

</head>

<body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script type='text/javascript' src='/tinycolorpicker.js'></script>
<script type='text/javascript' src='/nouislider.js'></script>
<script type='text/javascript' src='/jquery.touchSwipe.min.js'></script>

</body>

<template name="header">
    <div class="header">
        <h1 class="title">Ambient Lamp</h1>
    </div>
    <div style="display:none;">
        <img id="source" src="text-color4.png"
             width="150" height="150">
    </div>
</template>

<template name="settingsList">
  <ol class="settings">
    <li class="snap">
        <span class="swipe"><img class="arrow" src="/swipe-arrow.png"></span>
    </li>
    {{#each settings}}
        {{#if display}}{{> setting}}{{/if}}
    {{/each}}
  </ol>


</template>

<template name="setting">
  <li class="setting {{selected}}">
    <img class="icon" src="/{{name}}.png">
    <span class="name">{{name}}: </span>
    <span class="name">{{score}}</span>
    <span><button class="dec">-</button></span>
    <span><button class="inc">+</button></span>
  </li>
</template>


<template name="leaderboard">
    <!--<div class="table_header">
        <img class="icon" src="/power-button.png">
        Visualisation
    </div>-->
    <ol style="margin-top: 0px;">
        <li class="genius_tab {{#if isGeniusPaused}}geniusPaused{{/if}}">
            {{#unless isGeniusActive}}<span style="vertical-align: middle; font-size: 18px; float: left;">Manual</span>{{else}}
                {{#if isGeniusPaused}}
                    {{#if checkedVisuals}}<span style="vertical-align: middle; font-size: 18px; float: left; color: #1a3443">Genius Paused for {{getCountdown}} sec.</span>{{/if}}
                {{else}}
                {{#if checkedVisuals}}<span class="" style="vertical-align: middle; font-size: 18px; float: left;">Genius-Mode ({{incompleteCount}})</span>
            {{else}}<span class="" style="vertical-align: middle; font-size: 18px; float: left; color: red;">Select Visuals</span>{{/if}}
                {{/if}}

            {{/unless}}

            <input type="checkbox" class="js-switch genius"/>
        </li>
        {{#each visuals}}
            {{> visual}}
        {{/each}}
    </ol>
</template>

<template name="visual">
    {{#if isGeniusActive}}<li style="width: 15%; text-align: center; background-color: #FBFCFD;" class="vList">
        <div class="checkbox_wrapper {{#unless isGeniusActive}}checkboxOpacity{{/unless}}">
            <input class="toggle-checked" type="checkbox" checked="{{checked}}"/>
            <label></label>
        </div>
    </li>{{/if}}
    <li class="vActive vList {{#if isGeniusActive}}vListNameActive{{else}}vListName{{/if}} {{#if active}}active{{/if}} {{#if geniusActive}}geniusActive{{/if}} visualName" style="text-align: left; border-right: #eee solid 1px;;">
        <img style="height: 2.6em; margin: -15px 0px -10px 0px; border-radius: 27px; opacity: 1.0; margin-left: 10px;" src="{{img}}">
        <span class="visualNameText">{{name}}</span>
    </li>
    <a href="{{pathFor route='listPage'}}"><li class="vActive vList" style="width: 15%; text-align: center; background-color: #FBFCFD;">
        <img src="/right-arrow.png" class="arrow"/>
    </li></a>
</template>

<template name="mainPage">
    <div class="outer">
        {{> header}}
        {{> yield}}
        {{> settingsList}}
    </div>
</template>

<template name="listPage">
    <div>
        <ol style="margin-top: 0px;">
            <li class="genius_tab">
                <a href="{{pathFor route='leaderboard'}}"><span style="float: left;"><img class="back" src="/back2.png"></span></a>
                <a href="{{pathFor route='leaderboard'}}"><span style="vertical-align: middle; font-size: 18px; font-weight: 400; float: left;">Back</span></a>
                <span style="font-size: 18px; font-weight: 600; margin-left: -25px;">{{name}}</span>
                <span style="float: right;"><img class="info" src="/info.png"></span>
            </li>
            <li class="colors_tab">
                <div style="font-size: 1.2em; font-weight: 400; float: left">Colors</div>
                <div id="colors">
                    {{#each colors}}
                        {{> color}}
                    {{/each}}
                </div>
            </li>
            {{#if checkIfNotificationExists}}
                {{> notification}}
            {{/if}}
            <li class="reset_tab">
                <div style="font-size: 1.2em; font-weight: 400; float: left">Reset to default</div>
            </li>

        </ol>
        <div class="infoOverlay">
            <span style="font-size: 20px; font-weight: 300; float: left; padding-left: 10px; padding-top: 10px;">{{name}}</span>
            <img class="close" src="/close.png">
            <span style="font-size: 16px; font-weight: 300; float: left; padding-left: 10px; padding-right: 10px; padding-top: 10px; text-align: left;">{{description}}</span>
            <ol class="colorNotation" style="padding-left: 5px; float: left; margin-bottom: 20px;">
                {{#each colors}}
                    <li style="border-bottom: none; padding: 0px 0px 2px 5px;">
                        <div style="margin: 0px; width: 18px; height: 18px; -webkit-border-radius: 27px; -moz-border-radius: 27px; float: left; border-radius: 27px; box-shadow: 0px 0px 0px 1px #ccc;"></div>
                        <span style="font-size: 14px; font-weight: 400; float: left; padding-left: 10px; text-align: left;">{{annotation}}</span>
                        <br>
                    </li>
                {{/each}}
            </ol>
        </div>
        <div class="overlayBG" style="visibility: hidden;"></div>
    </div>
</template>

<template name="color">
    <div id="colorPicker" class="colorPicker">
        <a class="color">
            <div class="colorInner"></div>
        </a>
            <div class="pOuterContainer">
                <div class="pContainer" style="display: none;">
                    <div class="track" style="float: right">
                    </div>
                </div>
            </div>
        <ul class="dropdown">
            <li></li>
        </ul>
        <input type="hidden" class="colorInput"/></div>
</template>

<template name="notification">
    <li class="notification_tab">
        <div style="font-size: 1.2em; font-weight: 400; float: left">Notification</div>
        <input type="checkbox" checked="{{notification}}" class="js-switch notification" />
    </li>
</template>